"use client"
import RestaurantCardSkeleton from "@/components/skeletons/RetaurantCardSkeleton";
import CountResults from "@/components/ui/CountResults";
import ExperienceHero from "@/components/ui/Experience/ExperienceHero";
import ExperiencSlider from "@/components/ui/Experience/ExperienceSlider";
import RestaurantCard from "@/components/ui/Experience/RestaurantCard";
import RestaurantIconsFilter from "@/components/ui/Experience/RestaurantIconsFilter";
import MagazineListing from "@/components/ui/MagazineListing";
import SeeMore from "@/components/ui/SeeMore";
import { useEffect, useState } from "react";


export type Restaurant = {
  _id: string;
  name: string;
  slug: string;
  price: string;
  images: string[];
  location: string;
};

type SearchParams = {
  location?: string;
  openingTime?: string;
  feature?: string;
  page?: string;
};

export default function Restaurants({ searchParams }: { searchParams: { [key: string]: string | undefined } }) {
  const [data, setData] = useState<{ restaurants: any[]; countTotalRestaurants: number }>({
    restaurants: [],
    countTotalRestaurants: 1,
  });
  const [loading, setLoading] = useState(true);

  // Resolve camelCase params
  const resolvedParams: SearchParams = {
    location: searchParams.location,
    openingTime: searchParams["opening time"] || searchParams.openingTime,
    feature: searchParams.feature,
    page: searchParams.page || "1",
  };

  useEffect(() => {
    const fetchRestaurants = async () => {
      setLoading(true);

      const params = new URLSearchParams();
      if (resolvedParams.location) params.append("location", resolvedParams.location);
      if (resolvedParams.openingTime) params.append("openingTime", resolvedParams.openingTime);
      if (resolvedParams.feature) params.append("feature", resolvedParams.feature);
      if (resolvedParams.page) params.append("page", resolvedParams.page);

      try {
        const response = await fetch(
          `https://elite-experience-backend.onrender.com/api/restaurants/all?${params.toString()}`
        );

        if (!response.ok) throw new Error("Failed to fetch restaurants");

        const json = await response.json();
        setData(json);
      } catch (error) {
        console.error("API Error:", error);
        setData({ restaurants: [], countTotalRestaurants: 0 });
      } finally {
        setLoading(false);
      }
    };

    fetchRestaurants();
  }, [searchParams]); // refetch when searchParams change

  const japanese = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
  <mask id="mask0_140_13312" style={{ maskType: "alpha" }} maskUnits="userSpaceOnUse" x="0" y="0" width="24" height="24">
    <rect width="24" height="24" fill="#D9D9D9"/>
  </mask>
  <g mask="url(#mask0_140_13312)">
    <path d="M10 20H14V18.9L15.25 18.4C16.3333 17.9667 17.2542 17.3625 18.0125 16.5875C18.7708 15.8125 19.3167 14.95 19.65 14H4.35C4.68333 14.95 5.225 15.8125 5.975 16.5875C6.725 17.3625 7.65 17.9667 8.75 18.4L10 18.9V20ZM8 22V20.25C6.21667 19.55 4.77083 18.4667 3.6625 17C2.55417 15.5333 2 13.8667 2 12H4V4L22 2V3.5L10.5 4.8V6.5H22V8H10.5V12H22C22 13.8667 21.4458 15.5333 20.3375 17C19.2292 18.4667 17.7833 19.55 16 20.25V22H8ZM8 6.5H9V4.95L8 5.075V6.5ZM5.5 6.5H6.5V5.25L5.5 5.35V6.5ZM8 12H9V8H8V12ZM5.5 12H6.5V8H5.5V12Z" fill="#666D80"/>
  </g>
</svg>`

  const french = `<svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">
  <mask id="mask0_140_13327" style={{ maskType: "alpha" }} maskUnits="userSpaceOnUse" x="0" y="0" width="25" height="24">
    <rect x="0.332031" width="24" height="24" fill="#D9D9D9"/>
  </mask>
  <g mask="url(#mask0_140_13327)">
    <path d="M20.432 16.95C20.7154 17.1 20.9654 17.0667 21.182 16.85C21.3987 16.6333 21.432 16.3833 21.282 16.1L19.832 13.4L18.782 16.1L20.432 16.95ZM15.432 16H16.632L19.032 10.05C19.082 9.91667 19.0695 9.80417 18.9945 9.7125C18.9195 9.62083 18.832 9.55 18.732 9.5L16.732 8.7C16.582 8.65 16.4362 8.66667 16.2945 8.75C16.1529 8.83333 16.0654 8.95 16.032 9.1L15.432 16ZM8.03203 16H9.23203L8.63203 9.1C8.5987 8.91667 8.5112 8.79167 8.36953 8.725C8.22786 8.65833 8.08203 8.65 7.93203 8.7L5.93203 9.5C5.7987 9.55 5.70286 9.62083 5.64453 9.7125C5.5862 9.80417 5.58203 9.91667 5.63203 10.05L8.03203 16ZM4.23203 16.95L5.88203 16.1L4.83203 13.4L3.38203 16.1C3.23203 16.3833 3.26536 16.6333 3.48203 16.85C3.6987 17.0667 3.9487 17.1 4.23203 16.95ZM11.232 16H13.432L14.182 7.55C14.2154 7.4 14.1779 7.27083 14.0695 7.1625C13.9612 7.05417 13.832 7 13.682 7H10.982C10.8487 7 10.7279 7.05417 10.6195 7.1625C10.5112 7.27083 10.4654 7.4 10.482 7.55L11.232 16ZM3.78203 19C3.08203 19 2.4987 18.7375 2.03203 18.2125C1.56536 17.6875 1.33203 17.0667 1.33203 16.35C1.33203 16.15 1.3612 15.9542 1.41953 15.7625C1.47786 15.5708 1.5487 15.3833 1.63203 15.2L3.83203 11C3.5987 10.3333 3.60703 9.675 3.85703 9.025C4.10703 8.375 4.5487 7.91667 5.18203 7.65L7.18203 6.85C7.41536 6.76667 7.6487 6.70833 7.88203 6.675C8.11536 6.64167 8.3487 6.65 8.58203 6.7C8.81536 6.21667 9.14037 5.8125 9.55703 5.4875C9.9737 5.1625 10.4487 5 10.982 5H13.682C14.2154 5 14.6904 5.1625 15.107 5.4875C15.5237 5.8125 15.8487 6.21667 16.082 6.7C16.3154 6.66667 16.5487 6.6625 16.782 6.6875C17.0154 6.7125 17.2487 6.76667 17.482 6.85L19.482 7.65C20.1487 7.91667 20.6154 8.375 20.882 9.025C21.1487 9.675 21.132 10.3167 20.832 10.95L23.032 15.15C23.132 15.3333 23.207 15.525 23.257 15.725C23.307 15.925 23.332 16.1333 23.332 16.35C23.332 17.1 23.0779 17.7292 22.5695 18.2375C22.0612 18.7458 21.432 19 20.682 19C20.4987 19 20.3154 18.9792 20.132 18.9375C19.9487 18.8958 19.7654 18.8333 19.582 18.75L18.032 18H6.58203L5.18203 18.75C4.96536 18.8667 4.7362 18.9375 4.49453 18.9625C4.25286 18.9875 4.01536 19 3.78203 19Z" fill="#666D80"/>
  </g>
</svg>`

  const international = `<svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">
<mask id="mask0_140_13333" style={{ maskType: "alpha" }} maskUnits="userSpaceOnUse" x="0" y="0" width="25" height="24">
<rect x="0.666016" width="24" height="24" fill="#D9D9D9"/>
</mask>
<g mask="url(#mask0_140_13333)">
<path d="M12.666 22C11.2827 22 9.98268 21.7375 8.76602 21.2125C7.54935 20.6875 6.49102 19.975 5.59102 19.075C4.69102 18.175 3.97852 17.1167 3.45352 15.9C2.92852 14.6833 2.66602 13.3833 2.66602 12C2.66602 10.6167 2.92852 9.31667 3.45352 8.1C3.97852 6.88333 4.69102 5.825 5.59102 4.925C6.49102 4.025 7.54935 3.3125 8.76602 2.7875C9.98268 2.2625 11.2827 2 12.666 2C14.0493 2 15.3493 2.2625 16.566 2.7875C17.7827 3.3125 18.841 4.025 19.741 4.925C20.641 5.825 21.3535 6.88333 21.8785 8.1C22.4035 9.31667 22.666 10.6167 22.666 12C22.666 13.3833 22.4035 14.6833 21.8785 15.9C21.3535 17.1167 20.641 18.175 19.741 19.075C18.841 19.975 17.7827 20.6875 16.566 21.2125C15.3493 21.7375 14.0493 22 12.666 22ZM11.666 19.95V18C11.116 18 10.6452 17.8042 10.2535 17.4125C9.86185 17.0208 9.66602 16.55 9.66602 16V15L4.86602 10.2C4.81602 10.5 4.77018 10.8 4.72852 11.1C4.68685 11.4 4.66602 11.7 4.66602 12C4.66602 14.0167 5.32852 15.7833 6.65352 17.3C7.97852 18.8167 9.64935 19.7 11.666 19.95ZM18.566 17.4C19.2493 16.65 19.7702 15.8125 20.1285 14.8875C20.4868 13.9625 20.666 13 20.666 12C20.666 10.3667 20.2118 8.875 19.3035 7.525C18.3952 6.175 17.1827 5.2 15.666 4.6V5C15.666 5.55 15.4702 6.02083 15.0785 6.4125C14.6868 6.80417 14.216 7 13.666 7H11.666V9C11.666 9.28333 11.5702 9.52083 11.3785 9.7125C11.1868 9.90417 10.9493 10 10.666 10H8.66602V12H14.666C14.9493 12 15.1868 12.0958 15.3785 12.2875C15.5702 12.4792 15.666 12.7167 15.666 13V16H16.666C17.0993 16 17.491 16.1292 17.841 16.3875C18.191 16.6458 18.4327 16.9833 18.566 17.4Z" fill="#666D80"/>
</g>
</svg>`

  const italian = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
<mask id="mask0_140_13339" style={{ maskType: "alpha" }} maskUnits="userSpaceOnUse" x="0" y="0" width="24" height="24">
<rect width="24" height="24" fill="#D9D9D9"/>
</mask>
<g mask="url(#mask0_140_13339)">
<path d="M12 22L2 7C3.41667 5.8 4.97083 4.83333 6.6625 4.1C8.35417 3.36667 10.1333 3 12 3C13.8667 3 15.6458 3.3625 17.3375 4.0875C19.0292 4.8125 20.5833 5.78333 22 7L12 22ZM12 18.4L19.3 7.45C18.2167 6.7 17.0583 6.10417 15.825 5.6625C14.5917 5.22083 13.3167 5 12 5C10.6833 5 9.4125 5.22083 8.1875 5.6625C6.9625 6.10417 5.8 6.7 4.7 7.45L12 18.4ZM9.5 10C9.91667 10 10.2708 9.85417 10.5625 9.5625C10.8542 9.27083 11 8.91667 11 8.5C11 8.08333 10.8542 7.72917 10.5625 7.4375C10.2708 7.14583 9.91667 7 9.5 7C9.08333 7 8.72917 7.14583 8.4375 7.4375C8.14583 7.72917 8 8.08333 8 8.5C8 8.91667 8.14583 9.27083 8.4375 9.5625C8.72917 9.85417 9.08333 10 9.5 10ZM12 15C12.4167 15 12.7708 14.8542 13.0625 14.5625C13.3542 14.2708 13.5 13.9167 13.5 13.5C13.5 13.0833 13.3542 12.7292 13.0625 12.4375C12.7708 12.1458 12.4167 12 12 12C11.5833 12 11.2292 12.1458 10.9375 12.4375C10.6458 12.7292 10.5 13.0833 10.5 13.5C10.5 13.9167 10.6458 14.2708 10.9375 14.5625C11.2292 14.8542 11.5833 15 12 15Z" fill="#666D80"/>
</g>
</svg>`

  const lebanese = `<svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">
<mask id="mask0_140_13345" style={{ maskType: "alpha" }} maskUnits="userSpaceOnUse" x="0" y="0" width="25" height="24">
<rect x="0.332031" width="24" height="24" fill="#D9D9D9"/>
</mask>
<g mask="url(#mask0_140_13345)">
<path d="M6.58203 23V19H5.83203C5.13203 19 4.54036 18.7583 4.05703 18.275C3.5737 17.7917 3.33203 17.2 3.33203 16.5C3.33203 15.8 3.5737 15.2083 4.05703 14.725C4.54036 14.2417 5.13203 14 5.83203 14H6.58203V13H3.33203V8H6.58203V7H5.83203C5.13203 7 4.54036 6.75833 4.05703 6.275C3.5737 5.79167 3.33203 5.2 3.33203 4.5C3.33203 3.8 3.5737 3.20833 4.05703 2.725C4.54036 2.24167 5.13203 2 5.83203 2H6.58203V1H8.08203V2H8.83203C9.53203 2 10.1237 2.24167 10.607 2.725C11.0904 3.20833 11.332 3.8 11.332 4.5C11.332 5.2 11.0904 5.79167 10.607 6.275C10.1237 6.75833 9.53203 7 8.83203 7H8.08203V8H11.332V13H8.08203V14H8.83203C9.53203 14 10.1237 14.2417 10.607 14.725C11.0904 15.2083 11.332 15.8 11.332 16.5C11.332 17.2 11.0904 17.7917 10.607 18.275C10.1237 18.7583 9.53203 19 8.83203 19H8.08203V23H6.58203ZM16.582 23V19H15.832C15.132 19 14.5404 18.7583 14.057 18.275C13.5737 17.7917 13.332 17.2 13.332 16.5C13.332 15.8 13.5737 15.2083 14.057 14.725C14.5404 14.2417 15.132 14 15.832 14H16.582V13H13.332V8H16.582V7H15.832C15.132 7 14.5404 6.75833 14.057 6.275C13.5737 5.79167 13.332 5.2 13.332 4.5C13.332 3.8 13.5737 3.20833 14.057 2.725C14.5404 2.24167 15.132 2 15.832 2H16.582V1H18.082V2H18.832C19.532 2 20.1237 2.24167 20.607 2.725C21.0904 3.20833 21.332 3.8 21.332 4.5C21.332 5.2 21.0904 5.79167 20.607 6.275C20.1237 6.75833 19.532 7 18.832 7H18.082V8H21.332V13H18.082V14H18.832C19.532 14 20.1237 14.2417 20.607 14.725C21.0904 15.2083 21.332 15.8 21.332 16.5C21.332 17.2 21.0904 17.7917 20.607 18.275C20.1237 18.7583 19.532 19 18.832 19H18.082V23H16.582ZM5.83203 5H8.83203C8.96536 5 9.08203 4.95 9.18203 4.85C9.28203 4.75 9.33203 4.63333 9.33203 4.5C9.33203 4.36667 9.28203 4.25 9.18203 4.15C9.08203 4.05 8.96536 4 8.83203 4H5.83203C5.6987 4 5.58203 4.05 5.48203 4.15C5.38203 4.25 5.33203 4.36667 5.33203 4.5C5.33203 4.63333 5.38203 4.75 5.48203 4.85C5.58203 4.95 5.6987 5 5.83203 5ZM15.832 5H18.832C18.9654 5 19.082 4.95 19.182 4.85C19.282 4.75 19.332 4.63333 19.332 4.5C19.332 4.36667 19.282 4.25 19.182 4.15C19.082 4.05 18.9654 4 18.832 4H15.832C15.6987 4 15.582 4.05 15.482 4.15C15.382 4.25 15.332 4.36667 15.332 4.5C15.332 4.63333 15.382 4.75 15.482 4.85C15.582 4.95 15.6987 5 15.832 5ZM5.33203 11H9.33203V10H5.33203V11ZM15.332 11H19.332V10H15.332V11ZM5.83203 17H8.83203C8.96536 17 9.08203 16.95 9.18203 16.85C9.28203 16.75 9.33203 16.6333 9.33203 16.5C9.33203 16.3667 9.28203 16.25 9.18203 16.15C9.08203 16.05 8.96536 16 8.83203 16H5.83203C5.6987 16 5.58203 16.05 5.48203 16.15C5.38203 16.25 5.33203 16.3667 5.33203 16.5C5.33203 16.6333 5.38203 16.75 5.48203 16.85C5.58203 16.95 5.6987 17 5.83203 17ZM15.832 17H18.832C18.9654 17 19.082 16.95 19.182 16.85C19.282 16.75 19.332 16.6333 19.332 16.5C19.332 16.3667 19.282 16.25 19.182 16.15C19.082 16.05 18.9654 16 18.832 16H15.832C15.6987 16 15.582 16.05 15.482 16.15C15.382 16.25 15.332 16.3667 15.332 16.5C15.332 16.6333 15.382 16.75 15.482 16.85C15.582 16.95 15.6987 17 15.832 17Z" fill="#666D80"/>
</g>
</svg>`

  const Mediterranean = `<svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">
<mask id="mask0_140_13351" style={{ maskType: "alpha" }} maskUnits="userSpaceOnUse" x="0" y="0" width="25" height="24">
<rect x="0.666016" width="24" height="24" fill="#D9D9D9"/>
</mask>
<g mask="url(#mask0_140_13351)">
<path d="M8.66602 22V20.25C6.91602 19.55 5.47852 18.4667 4.35352 17C3.22852 15.5333 2.66602 13.8667 2.66602 12C2.66602 10.6167 2.92852 9.31667 3.45352 8.1C3.97852 6.88333 4.69102 5.825 5.59102 4.925C6.49102 4.025 7.54935 3.3125 8.76602 2.7875C9.98268 2.2625 11.2827 2 12.666 2C14.0493 2 15.3493 2.2625 16.566 2.7875C17.7827 3.3125 18.841 4.025 19.741 4.925C20.641 5.825 21.3535 6.88333 21.8785 8.1C22.4035 9.31667 22.666 10.6167 22.666 12C22.666 13.8667 22.1035 15.5333 20.9785 17C19.8535 18.4667 18.416 19.55 16.666 20.25V22H8.66602ZM10.666 12H14.666V4.25C14.3327 4.16667 13.9993 4.10417 13.666 4.0625C13.3327 4.02083 12.9993 4 12.666 4C12.3327 4 11.9993 4.02083 11.666 4.0625C11.3327 4.10417 10.9993 4.16667 10.666 4.25V12ZM4.66602 12H8.66602V5.075C7.41602 5.79167 6.43685 6.76667 5.72852 8C5.02018 9.23333 4.66602 10.5667 4.66602 12ZM16.666 12H20.666C20.666 10.5667 20.3118 9.23333 19.6035 8C18.8952 6.76667 17.916 5.79167 16.666 5.075V12ZM10.666 20H14.666V18.9C15.866 18.4167 16.9743 17.7792 17.991 16.9875C19.0077 16.1958 19.766 15.2 20.266 14H5.06602C5.56602 15.2 6.32435 16.1958 7.34102 16.9875C8.35768 17.7792 9.46602 18.4167 10.666 18.9V20Z" fill="#666D80"/>
</g>
</svg>`

  const familyFriendly = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
<mask id="mask0_140_13527" style={{ maskType: "alpha" }} maskUnits="userSpaceOnUse" x="0" y="0" width="24" height="24">
<rect width="24" height="24" fill="#D9D9D9"/>
</mask>
<g mask="url(#mask0_140_13527)">
<path d="M12 16C12.8 16 13.5125 15.7625 14.1375 15.2875C14.7625 14.8125 15.2167 14.2 15.5 13.45H8.5C8.78333 14.2 9.2375 14.8125 9.8625 15.2875C10.4875 15.7625 11.2 16 12 16ZM9.5 12C9.91667 12 10.2708 11.8542 10.5625 11.5625C10.8542 11.2708 11 10.9167 11 10.5C11 10.0833 10.8542 9.72917 10.5625 9.4375C10.2708 9.14583 9.91667 9 9.5 9C9.08333 9 8.72917 9.14583 8.4375 9.4375C8.14583 9.72917 8 10.0833 8 10.5C8 10.9167 8.14583 11.2708 8.4375 11.5625C8.72917 11.8542 9.08333 12 9.5 12ZM14.5 12C14.9167 12 15.2708 11.8542 15.5625 11.5625C15.8542 11.2708 16 10.9167 16 10.5C16 10.0833 15.8542 9.72917 15.5625 9.4375C15.2708 9.14583 14.9167 9 14.5 9C14.0833 9 13.7292 9.14583 13.4375 9.4375C13.1458 9.72917 13 10.0833 13 10.5C13 10.9167 13.1458 11.2708 13.4375 11.5625C13.7292 11.8542 14.0833 12 14.5 12ZM7.625 6.4L10.425 2.775C10.625 2.50833 10.8625 2.3125 11.1375 2.1875C11.4125 2.0625 11.7 2 12 2C12.3 2 12.5875 2.0625 12.8625 2.1875C13.1375 2.3125 13.375 2.50833 13.575 2.775L16.375 6.4L20.625 7.825C21.0583 7.95833 21.4 8.20417 21.65 8.5625C21.9 8.92083 22.025 9.31667 22.025 9.75C22.025 9.95 21.9958 10.15 21.9375 10.35C21.8792 10.55 21.7833 10.7417 21.65 10.925L18.9 14.825L19 18.925C19.0167 19.5083 18.825 20 18.425 20.4C18.025 20.8 17.5583 21 17.025 21C16.9917 21 16.8083 20.975 16.475 20.925L12 19.675L7.525 20.925C7.44167 20.9583 7.35 20.9792 7.25 20.9875C7.15 20.9958 7.05833 21 6.975 21C6.44167 21 5.975 20.8 5.575 20.4C5.175 20 4.98333 19.5083 5 18.925L5.1 14.8L2.375 10.925C2.24167 10.7417 2.14583 10.55 2.0875 10.35C2.02917 10.15 2 9.95 2 9.75C2 9.33333 2.12083 8.94583 2.3625 8.5875C2.60417 8.22917 2.94167 7.975 3.375 7.825L7.625 6.4ZM8.85 8.125L4 9.725L7.1 14.2L7 18.975L12 17.6L17 19L16.9 14.2L20 9.775L15.15 8.125L12 4L8.85 8.125Z" fill="#666D80"/>
</g>
</svg>`

  const liveMusic = `<svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">
<path d="M20.2933 1.65844C20.2034 1.58843 20.0988 1.53981 19.9874 1.51626C19.876 1.49271 19.7606 1.49484 19.6502 1.5225L7.65016 4.5225C7.48791 4.56306 7.34386 4.65668 7.24092 4.7885C7.13799 4.92031 7.08206 5.08275 7.08204 5.25V15.57C6.45638 15.152 5.70897 14.955 4.95855 15.0104C4.20813 15.0658 3.49775 15.3704 2.94026 15.8758C2.38278 16.3812 2.01017 17.0583 1.88164 17.7997C1.75311 18.5411 1.87602 19.3042 2.23086 19.9678C2.5857 20.6313 3.1521 21.1573 3.84008 21.462C4.52806 21.7668 5.29815 21.8329 6.02801 21.6499C6.75787 21.4668 7.40563 21.0451 7.86838 20.4518C8.33112 19.8584 8.58231 19.1275 8.58204 18.375V10.3359L19.082 7.71094V12.57C18.4564 12.152 17.709 11.955 16.9585 12.0104C16.2081 12.0658 15.4977 12.3704 14.9403 12.8758C14.3828 13.3812 14.0102 14.0583 13.8816 14.7997C13.7531 15.5411 13.876 16.3042 14.2309 16.9678C14.5857 17.6313 15.1521 18.1573 15.8401 18.462C16.5281 18.7668 17.2982 18.8329 18.028 18.6499C18.7579 18.4668 19.4056 18.0451 19.8684 17.4518C20.3311 16.8584 20.5823 16.1275 20.582 15.375V2.25C20.5821 2.13593 20.5561 2.02336 20.506 1.92085C20.456 1.81834 20.3832 1.72859 20.2933 1.65844ZM5.20704 20.25C4.8362 20.25 4.47368 20.14 4.16534 19.934C3.857 19.728 3.61668 19.4351 3.47476 19.0925C3.33285 18.7499 3.29572 18.3729 3.36806 18.0092C3.44041 17.6455 3.61899 17.3114 3.88121 17.0492C4.14343 16.787 4.47753 16.6084 4.84124 16.536C5.20496 16.4637 5.58196 16.5008 5.92457 16.6427C6.26718 16.7846 6.56001 17.025 6.76604 17.3333C6.97207 17.6416 7.08204 18.0042 7.08204 18.375C7.08204 18.8723 6.88449 19.3492 6.53286 19.7008C6.18123 20.0525 5.70432 20.25 5.20704 20.25ZM8.58204 8.78906V5.83594L19.082 3.21094V6.16406L8.58204 8.78906ZM17.207 17.25C16.8362 17.25 16.4737 17.14 16.1653 16.934C15.857 16.728 15.6167 16.4351 15.4748 16.0925C15.3328 15.7499 15.2957 15.3729 15.3681 15.0092C15.4404 14.6455 15.619 14.3114 15.8812 14.0492C16.1434 13.787 16.4775 13.6084 16.8412 13.536C17.205 13.4637 17.582 13.5008 17.9246 13.6427C18.2672 13.7846 18.56 14.025 18.766 14.3333C18.9721 14.6416 19.082 15.0042 19.082 15.375C19.082 15.8723 18.8845 16.3492 18.5329 16.7008C18.1812 17.0525 17.7043 17.25 17.207 17.25Z" fill="#666D80"/>
</svg>`

  const skiInOut = `<svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">
<path d="M16.7903 8.25C17.3095 8.25 17.817 8.09605 18.2487 7.80761C18.6804 7.51917 19.0168 7.1092 19.2155 6.62954C19.4142 6.14989 19.4662 5.62209 19.3649 5.11289C19.2636 4.60369 19.0136 4.13596 18.6465 3.76885C18.2794 3.40173 17.8117 3.15173 17.3025 3.05044C16.7933 2.94915 16.2655 3.00114 15.7858 3.19982C15.3061 3.3985 14.8962 3.73495 14.6077 4.16663C14.3193 4.59831 14.1653 5.10583 14.1653 5.625C14.1653 6.32119 14.4419 6.98887 14.9342 7.48116C15.4265 7.97344 16.0941 8.25 16.7903 8.25ZM16.7903 4.5C17.0128 4.5 17.2304 4.56598 17.4154 4.6896C17.6004 4.81321 17.7446 4.98892 17.8297 5.19448C17.9149 5.40005 17.9371 5.62625 17.8937 5.84448C17.8503 6.06271 17.7432 6.26316 17.5858 6.4205C17.4285 6.57783 17.228 6.68498 17.0098 6.72838C16.7916 6.77179 16.5654 6.74951 16.3598 6.66437C16.1543 6.57922 15.9786 6.43502 15.8549 6.25002C15.7313 6.06501 15.6653 5.84751 15.6653 5.625C15.6653 5.32663 15.7839 5.04048 15.9948 4.82951C16.2058 4.61853 16.492 4.5 16.7903 4.5ZM3.69534 7.29C3.72292 7.19545 3.76885 7.10725 3.83051 7.03045C3.89217 6.95365 3.96836 6.88975 4.05472 6.84239C4.14107 6.79503 4.23591 6.76515 4.33382 6.75444C4.43173 6.74374 4.53079 6.75242 4.62534 6.78L11.1653 8.68781L12.1328 7.71938C12.2025 7.64964 12.2852 7.59432 12.3763 7.55658C12.4673 7.51884 12.5649 7.49941 12.6635 7.49941C12.762 7.49941 12.8596 7.51884 12.9507 7.55658C13.0417 7.59432 13.1244 7.64964 13.1941 7.71938L15.9757 10.5H19.4153C19.6143 10.5 19.805 10.579 19.9457 10.7197C20.0863 10.8603 20.1653 11.0511 20.1653 11.25C20.1653 11.4489 20.0863 11.6397 19.9457 11.7803C19.805 11.921 19.6143 12 19.4153 12H15.6653C15.5668 12.0001 15.4692 11.9807 15.3782 11.9431C15.2872 11.9055 15.2044 11.8503 15.1347 11.7806L14.6088 11.25L4.20253 8.21625C4.01294 8.15993 3.85327 8.03099 3.75828 7.85752C3.66329 7.68405 3.64067 7.48007 3.69534 7.29ZM22.8316 19.1475C22.0363 19.6789 21.1341 20.0295 20.1886 20.1744C19.2432 20.3194 18.2774 20.2553 17.3594 19.9866L2.70628 15.7191C2.61007 15.693 2.52002 15.648 2.4414 15.5868C2.36277 15.5255 2.29715 15.4492 2.24836 15.3623C2.19956 15.2754 2.16858 15.1796 2.15723 15.0806C2.14587 14.9816 2.15437 14.8813 2.18222 14.7856C2.21007 14.6899 2.25672 14.6007 2.31943 14.5232C2.38215 14.4458 2.45968 14.3816 2.54749 14.3344C2.6353 14.2872 2.73162 14.2581 2.83084 14.2486C2.93006 14.2391 3.03018 14.2494 3.12534 14.2791L10.2503 16.3538L12.7338 13.875L8.70909 12.7209C8.61435 12.6939 8.52588 12.6484 8.44872 12.5871C8.37156 12.5258 8.30722 12.4499 8.25939 12.3638C8.16278 12.1898 8.13923 11.9846 8.19393 11.7933C8.22102 11.6985 8.2665 11.6101 8.32778 11.5329C8.38905 11.4558 8.46493 11.3914 8.55107 11.3436C8.72504 11.247 8.93026 11.2234 9.12159 11.2781L14.3716 12.7781C14.4972 12.814 14.6113 12.882 14.7025 12.9755C14.7937 13.069 14.8589 13.1847 14.8917 13.3111C14.9245 13.4376 14.9236 13.5704 14.8893 13.6964C14.855 13.8225 14.7883 13.9373 14.696 14.0297L11.8928 16.8328L17.7794 18.5466C18.4871 18.7538 19.2317 18.8033 19.9606 18.6915C20.6895 18.5798 21.3851 18.3095 21.9982 17.8997C22.0801 17.845 22.172 17.807 22.2686 17.7879C22.3652 17.7687 22.4647 17.7688 22.5612 17.7881C22.6578 17.8074 22.7497 17.8455 22.8315 17.9003C22.9134 17.955 22.9836 18.0254 23.0383 18.1073C23.093 18.1893 23.131 18.2812 23.1501 18.3778C23.1693 18.4744 23.1692 18.5738 23.1499 18.6704C23.1306 18.767 23.0925 18.8589 23.0377 18.9407C22.9829 19.0226 22.9126 19.0928 22.8307 19.1475H22.8316Z" fill="#666D80"/>
</svg>
`
  const apresSki = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
  <g clip-path="url(#clip0_190_5753)">
    <path d="M15.637 7.14002C15.5124 7.01536 15.3147 7.00176 15.1742 7.10819L12.6469 9.02147C11.6041 9.8328 9.14791 10.8943 9.14791 10.8943C7.84379 11.4579 6.67313 12.2531 5.66845 13.2578L3.31522 15.611C3.17733 15.7489 3.17733 15.9725 3.31522 16.1104C3.38413 16.1793 3.47452 16.2138 3.56485 16.2138C3.65519 16.2138 3.74558 16.1793 3.81449 16.1104L5.7796 14.1453L5.80351 14.1692C6.25406 14.6197 6.91811 14.7597 7.49529 14.5256C8.06241 14.2957 8.70851 14.4266 9.14127 14.8593C9.57399 15.2921 9.705 15.9382 9.47499 16.5053C9.24093 17.0824 9.38089 17.7465 9.83139 18.1971L9.85535 18.221L5.60871 22.4677L1.533 18.3919L2.87624 17.0487C3.01412 16.9108 3.01412 16.6873 2.87624 16.5494C2.73836 16.4115 2.5148 16.4115 2.37696 16.5494L0.356452 18.5698C0.126585 18.7997 0 19.1053 0 19.4303C0 19.7554 0.126585 20.061 0.356452 20.2909L3.7097 23.6441C3.94696 23.8814 4.25855 24 4.57024 24C4.88183 24 5.19356 23.8813 5.43077 23.6441L10.7427 18.3322C11.7474 17.3275 12.5426 16.1568 13.1062 14.8527C13.4129 14.1429 13.7442 13.3919 14.1245 12.6982C14.2181 12.5272 14.1555 12.3126 13.9845 12.2189C13.8136 12.1251 13.599 12.1877 13.5052 12.3588C13.3363 12.6669 13.1781 12.9839 13.0273 13.3024L11.568 12.7028C11.4125 12.6389 11.2865 12.5129 11.2226 12.3573L10.6625 10.9942C11.4812 10.6117 12.339 10.1556 13.0767 9.58171L13.2313 9.46463L14.5463 10.7796L14.463 10.8875C14.376 10.9979 14.2888 11.1145 14.2038 11.2339C14.0907 11.3927 14.1279 11.6132 14.2868 11.7262C14.4457 11.8392 14.6661 11.802 14.7792 11.6432C14.8575 11.5332 14.9377 11.426 15.0198 11.3217L16.9204 8.85915C17.0289 8.71859 17.0161 8.51932 16.8905 8.39377L15.637 7.14002ZM4.20898 23.1448L0.855731 19.7916C0.656556 19.5924 0.656556 19.2683 0.855731 19.0691L1.03363 18.8912L5.10934 22.9669L4.9314 23.1448C4.73227 23.344 4.40816 23.344 4.20898 23.1448ZM10.5696 12.6257C10.7047 12.9546 10.9708 13.2207 11.2998 13.3559L12.7329 13.9448C12.6389 14.1561 12.5472 14.3662 12.458 14.5726C11.9508 15.7464 11.2428 16.8044 10.3534 17.7204L10.3308 17.6978C10.0812 17.4483 10.0022 17.0844 10.1294 16.7707C10.4662 15.94 10.2744 14.9938 9.6406 14.3601C9.00687 13.7263 8.06067 13.5345 7.22993 13.8713C6.91636 13.9985 6.55238 13.9194 6.30283 13.6699L6.28024 13.6473C7.19623 12.758 8.25424 12.0499 9.42801 11.5426C9.42801 11.5426 9.83182 11.368 10.0189 11.2856L10.5696 12.6257ZM14.9814 10.2159L13.7998 9.03432L15.3552 7.85688L16.1718 8.67349L14.9814 10.2159Z" fill="#666D80"/>
    <path d="M8.0923 18.0428C8.18264 18.0428 8.27302 18.0083 8.34194 17.9394C8.47982 17.8015 8.47982 17.5779 8.34194 17.44L6.56048 15.6586C6.42259 15.5207 6.19903 15.5207 6.0612 15.6586C5.92332 15.7965 5.92332 16.02 6.0612 16.1579L7.84266 17.9393C7.91158 18.0083 8.00191 18.0428 8.0923 18.0428Z" fill="#666D80"/>
    <path d="M4.9426 16.7772C4.80472 16.9151 4.80472 17.1386 4.9426 17.2765L6.72406 19.058C6.79298 19.1269 6.88336 19.1614 6.9737 19.1614C7.06409 19.1614 7.15442 19.1269 7.22334 19.058C7.36122 18.9201 7.36122 18.6965 7.22334 18.5587L5.44188 16.7772C5.30404 16.6393 5.08048 16.6393 4.9426 16.7772Z" fill="#666D80"/>
    <path d="M3.82405 17.8957C3.68617 18.0336 3.68617 18.2572 3.82405 18.3951L5.60551 20.1766C5.67443 20.2455 5.76481 20.28 5.85515 20.28C5.94549 20.28 6.03587 20.2455 6.10479 20.1766C6.24267 20.0387 6.24267 19.8151 6.10479 19.6773L4.32333 17.8957C4.18549 17.7578 3.96193 17.7579 3.82405 17.8957Z" fill="#666D80"/>
    <path d="M23.5801 0.671149L23.3295 0.420475C23.0583 0.149322 22.6978 0 22.3143 0C21.9309 0 21.5704 0.149322 21.2993 0.420475L21.0121 0.707632C20.7724 0.947386 20.7241 1.30727 20.8672 1.59533L20.0499 2.4126C19.9837 2.47879 19.9465 2.5686 19.9465 2.66224C19.9465 2.75587 19.9837 2.84569 20.0499 2.91188L21.0886 3.95059C21.1548 4.01682 21.2446 4.05401 21.3383 4.05401C21.4319 4.05401 21.5217 4.01682 21.588 3.95059L22.4052 3.13332C22.6934 3.27647 23.0532 3.22813 23.2929 2.98837L23.5801 2.70117C24.1398 2.14154 24.1398 1.23082 23.5801 0.671149ZM23.0809 2.20189L22.7937 2.48909C22.7687 2.51404 22.728 2.51404 22.7031 2.48905C22.5233 2.30936 22.2308 2.30936 22.0509 2.48909L21.3383 3.20172L20.7989 2.66228L21.5116 1.94961C21.6912 1.76988 21.6913 1.4774 21.5116 1.29744C21.4866 1.27249 21.4866 1.23186 21.5116 1.20691L21.7987 0.919753C21.9365 0.781964 22.1196 0.706126 22.3144 0.706126C22.5093 0.706126 22.6924 0.781964 22.8302 0.919753L23.0809 1.17043C23.3652 1.45481 23.3652 1.91756 23.0809 2.20189Z" fill="#666D80"/>
    <path d="M16.1033 3.28537C16.382 4.07242 16.2878 4.93045 15.8449 5.6395C15.7416 5.80487 15.7919 6.02269 15.9573 6.12597C16.0154 6.16232 16.0801 6.17964 16.144 6.17964C16.2617 6.17964 16.3768 6.1208 16.4437 6.01361C17.0014 5.12106 17.1199 4.04069 16.7689 3.04962C16.6593 2.73986 16.5069 2.44889 16.3161 2.18475C16.202 2.02668 15.9812 1.99109 15.8232 2.10524C15.6651 2.2194 15.6295 2.44009 15.7436 2.59817C15.895 2.80784 16.016 3.03907 16.1033 3.28537Z" fill="#666D80"/>
    <path d="M21.5542 7.42284C21.29 7.23205 20.999 7.07967 20.6893 6.96998C19.6983 6.61904 18.618 6.73753 17.7253 7.29513C17.5599 7.39841 17.5096 7.61623 17.6129 7.7816C17.7161 7.94698 17.934 7.9973 18.0994 7.89397C18.8085 7.45104 19.6666 7.35689 20.4536 7.63558C20.6999 7.72281 20.931 7.84379 21.1407 7.99523C21.2032 8.04037 21.2755 8.06208 21.3472 8.06208C21.4567 8.06208 21.5646 8.01128 21.6337 7.91572C21.7478 7.75774 21.7122 7.53705 21.5542 7.42284Z" fill="#666D80"/>
    <path d="M19.0473 4.68642C18.9093 4.54853 18.6858 4.54853 18.548 4.68642L16.8084 6.42598C16.6705 6.56387 16.6705 6.78742 16.8084 6.92526C16.8774 6.99418 16.9677 7.02868 17.0581 7.02868C17.1484 7.02868 17.2388 6.99423 17.3078 6.92526L19.0473 5.1857C19.1852 5.04781 19.1852 4.82425 19.0473 4.68642Z" fill="#666D80"/>
  </g>
  <defs>
    <clipPath id="clip0_190_5753">
      <rect width="24" height="24" fill="white"/>
    </clipPath>
  </defs>
</svg>`
  const michelinStarred = `<svg xmlns="http://www.w3.org/2000/svg" width="25" height="26" viewBox="0 0 25 26" fill="none">
<g clip-path="url(#clip0_140_13524)">
<path d="M16.6814 5.694V4.42C16.6814 3.13733 16.2709 2.08 15.4499 1.248C14.629 0.416 13.5897 0 12.332 0C10.9696 0 9.90408 0.424667 9.13552 1.274C8.36697 2.12333 7.98269 3.25867 7.98269 4.68V5.07C7.98269 5.13933 7.99142 5.2 8.00889 5.252L8.03509 5.694C6.74251 4.77533 5.58094 4.316 4.55037 4.316C3.74688 4.316 2.97832 4.58467 2.2447 5.122C1.54601 5.62467 1.03072 6.28333 0.698843 7.098C0.454302 7.67 0.332031 8.242 0.332031 8.814C0.332031 10.5647 1.34513 11.8993 3.37133 12.818L3.76435 13C1.47614 14.04 0.332031 15.444 0.332031 17.212C0.332031 18.408 0.751245 19.4567 1.58967 20.358C2.4281 21.2593 3.42373 21.71 4.57657 21.71C5.62461 21.71 6.66391 21.3373 7.69448 20.592L8.03509 20.332C8.00015 20.6787 7.98269 21.0947 7.98269 21.58C7.98269 22.88 8.39317 23.9417 9.21413 24.765C10.0351 25.5883 11.0744 26 12.332 26C13.7119 26 14.7818 25.571 15.5416 24.713C16.3015 23.855 16.6814 22.7327 16.6814 21.346V20.332C17.974 21.2507 19.1268 21.71 20.1399 21.71C21.2753 21.71 22.2578 21.255 23.0875 20.345C23.9172 19.435 24.332 18.3907 24.332 17.212C24.332 15.444 23.3189 14.1007 21.2927 13.182L20.8997 13C23.1879 11.96 24.332 10.5647 24.332 8.814C24.332 7.68733 23.9216 6.656 23.1006 5.72C22.2796 4.784 21.2884 4.316 20.1268 4.316C18.9652 4.316 17.939 4.68 17.0482 5.408L16.6814 5.694ZM14.4805 10.088C16.5067 7.15867 18.3844 5.694 20.1137 5.694C20.8298 5.694 21.4805 6.01467 22.0657 6.656C22.6508 7.29733 22.9434 8.01667 22.9434 8.814C22.9434 10.9633 20.6028 12.2373 15.9216 12.636V13.39C18.2447 13.5807 19.9958 13.9967 21.1748 14.638C22.3539 15.2793 22.9434 16.1373 22.9434 17.212C22.9434 17.992 22.6595 18.707 22.0919 19.357C21.5242 20.007 20.8648 20.332 20.1137 20.332C18.3495 20.332 16.4718 18.8587 14.4805 15.912L13.7993 16.302C14.7949 18.3127 15.2927 20.0113 15.2927 21.398C15.2927 23.5473 14.3058 24.622 12.332 24.622C11.3888 24.622 10.6552 24.336 10.1312 23.764C9.62461 23.1573 9.37133 22.3947 9.37133 21.476C9.37133 20.0893 9.86915 18.3647 10.8648 16.302L10.1836 15.912C8.19229 18.8587 6.31456 20.332 4.55037 20.332C3.83421 20.332 3.18356 20.0243 2.59841 19.409C2.01325 18.7937 1.72068 18.0613 1.72068 17.212C1.72068 15.0627 4.05256 13.7887 8.71631 13.39V12.636C4.05256 12.2547 1.72068 10.9807 1.72068 8.814C1.72068 8.05133 2.00015 7.34067 2.55911 6.682C3.11806 6.02333 3.78181 5.694 4.55037 5.694C6.27963 5.694 8.15736 7.15867 10.1836 10.088L10.8648 9.724C9.86915 7.696 9.37133 5.96267 9.37133 4.524C9.37133 3.60533 9.62461 2.84267 10.1312 2.236C10.6552 1.664 11.3888 1.378 12.332 1.378C14.3058 1.378 15.2927 2.444 15.2927 4.576C15.2927 5.98 14.7949 7.696 13.7993 9.724L14.4805 10.088Z" fill="#666D80"/>
</g>
<defs>
<clipPath id="clip0_140_13524">
<rect width="24" height="26" fill="white" transform="translate(0.332031)"/>
</clipPath>
</defs>
</svg>`


  const icons = [
    { name: "All", iconKey: "IoMenu" },
    { name: "Japanese", svg: japanese },
    { name: "French", svg: french },
    { name: "International", svg: international },
    { name: "Italian", svg: italian },
    { name: "Lebanese", svg: lebanese },
    { name: "Mediterranean", svg: Mediterranean },
    { name: "Family Friendly", svg: familyFriendly },
    { name: "Live Music", svg: liveMusic },
    { name: "Ski-in/out", svg: skiInOut },
    { name: "Apres-ski", svg: apresSki },
    { name: "Michelin starred", svg: michelinStarred },
  ];

  return (
    <>
      <ExperienceHero values={[{ name: "Location", value: ["Courchevel 1850", "Courchevel 1650", "Courchevel 1550", "Le Praz", "Meribel", "Val Thorens"] }, { name: "Opening Time", value: ["Breakfast", "Lunch", "Dinner"] }]} page="restaurants" image="restaurant.jpg" text="Restaurant Services that Delight the Senses" />


      <section className='sm:mt-[100px] mt-[120px] mb-16 md:mb-12 mb-10'>
        <div className='w-full h-[1px] bg-[#e3e3e3] sm:mb-[30px] mb-[20px]'></div>
        <div className="container ">
          <div className="sm:mb-[30px] mb-[20px] flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 sm:gap-[32px]">
            <div className="overflow-hidden w-full">
              <RestaurantIconsFilter icons={icons} />
            </div>

            <div className="sm:w-auto w-full sm:block flex justify-end">
              <CountResults number={data.restaurants.length} />
            </div>
          </div>

        </div>
        <div className="container">
          <div className="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 gap-4">
            {loading
              ? Array.from({ length: 8 }).map((_, i) => <RestaurantCardSkeleton key={i} />)
              : data.restaurants.map((item: Restaurant) => (
                <RestaurantCard key={item._id} cardUrl={`/restaurants/${item.slug}`} title={item.name} restaurantType={item.price} image={item.images} showLocation={true} location={item.location} />
              ))
            }

          </div>

          {parseInt(resolvedParams.page || "1") * 12 < data.countTotalRestaurants && <SeeMore />}
        </div>
      </section>


      <section className="mt-[40px] md:mt-[60px] lg:mt-[80px]">
        <ExperiencSlider heading="Suggested Restaurants" showSubheading={true} />
      </section>

      <MagazineListing bgColor={false} />
    </>
  )
}